<div class="container mt-5">
    <h1>User Profile</h1>

    {{#if success}}
        <div class="alert alert-success" role="alert">
            {{success}}
        </div>
    {{/if}}
    {{#if error}}
        <div class="alert alert-danger" role="alert">
            {{error}}
        </div>
    {{/if}}

    <div class="form-section">
        <form action="/profile" method="POST">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" value="{{username}}" readonly>
            </div>
            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input type="text" id="display_name" name="display_name" value="{{display_name}}">
            </div>
            <div class="form-group">
                <label for="color">Color</label>
                <select id="color" name="color">
                    <option value="#6d28d9">Purple (Default)</option>
                    <option value="#ef4444">Red</option>
                    <option value="#3b82f6">Blue</option>
                    <option value="#10b981">Green</option>
                    <option value="#f59e0b">Orange</option>
                    <option value="#6b7280">Gray</option>
                    <option value="#ec4899">Pink</option>
                </select>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const colorSelect = document.getElementById('color');
                    const currentColor = "{{color}}";
                    if (currentColor) {
                        colorSelect.value = currentColor;
                    }
                });
            </script>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="{{email}}">
            </div>
            <button type="submit" class="btn btn-primary">Update Profile</button>
        </form>
    </div>

    <h2 class="mt-5">Account Details</h2>
    <div class="form-section">
        <div class="form-group">
            <label>User ID</label>
            <p>{{id}}</p>
        </div>
        <div class="form-group">
            <label>Created At</label>
            <p>{{created_at}}</p>
        </div>
        <div class="form-group">
            <label>Last Login</label>
            <p>{{last_login}}</p>
        </div>
    </div>
    <a href="/" class="btn btn-secondary mt-2">Back to Home</a>
</div>
